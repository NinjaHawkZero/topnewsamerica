{"version":3,"sources":["hooks/useLocalStorage.js","auth/UserContext.js","routes-nav/Navigation.js","storys/StoryCard.js","storys/StoryCardList.js","api/Newsapi.js","homepage/Homepage.js","common/Alert.js","auth/LoginForm.js","auth/SignupForm.js","profile/UserStoryCard.js","profile/UserStoryCardList.js","profile/UserProfile.js","profile/UserDataForm.js","routes-nav/PrivateRoute.js","routes-nav/Routes.js","App.js","reportWebVitals.js","index.js"],"names":["useLocalStorage","key","firstValue","initialValue","localStorage","getItem","useState","item","setItem","useEffect","removeItem","UserContext","React","createContext","Navigation","logout","currentUser","useContext","className","to","username","onClick","Meta","Card","StoryCard","author","title","description","url","urlToImage","publishedAt","story","saveStory","saved","setSaved","evt","a","hoverable","style","width","cover","alt","src","href","target","rel","type","marginTop","disabled","StoryCardList","stories","class","map","axios","require","URL","process","TopNewsApi","endpoint","data","method","console","debug","headers","Authorization","token","params","error","response","message","Array","isArray","this","request","res","user","get","result","articles","newStories","source","content","log","savedStory","deleted","getStories","Homepage","setStories","length","Alert","messages","role","LoginForm","login","history","useHistory","password","formData","setFormData","formErrors","setFormErrors","handleSubmit","preventDefault","success","push","errors","handleChange","name","value","onSubmit","onChange","autoComplete","required","RegisterForm","register","UserStoryCard","id","savedBy","removeStory","objId","filter","UserStoryCardList","UserProfile","getUserStories","UserDataForm","setCurrentUser","saveConfirmed","setSaveConfirmed","userFormData","updateProfile","updatedUser","f","PrivateRoute","exact","path","children","SiteRoutes","App","setInfoLoaded","setToken","registerData","err","loginData","deleteStory","jwt","decode","getCurrentUser","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a4ebc689.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\n\r\n//Custom hook for keeping data sync to localstorage\r\n\r\n\r\nfunction useLocalStorage(key, firstValue = null) {\r\n    const initialValue = localStorage.getItem(key) || firstValue;\r\n  \r\n    const [item, setItem] = useState(initialValue);\r\n  \r\n    useEffect(function setKeyInLocalStorage() {\r\n      \r\n  \r\n      if (item === null) {\r\n        localStorage.removeItem(key);\r\n      } else {\r\n        localStorage.setItem(key, item);\r\n      }\r\n    }, [key, item]);\r\n  \r\n    return [item, setItem];\r\n  }\r\n  \r\n  export default useLocalStorage;","import React from \"react\";\r\n\r\n//Provides current user object througout the app\r\n\r\nconst UserContext = React.createContext();\r\n\r\nexport default UserContext;","import React, { useContext } from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport UserContext from \"../auth/UserContext\";\r\nimport \"./Navigation.css\";\r\n\r\n//Navigation bar\r\n\r\nfunction Navigation({logout}) {\r\n    const {currentUser} = useContext(UserContext);\r\n\r\n    function loggedInNav() {\r\n        return (\r\n            <ul className=\"navbar-nav ml-auto\">\r\n            \r\n              <li className=\"nav-item mr-4\">\r\n                <NavLink className=\"nav-link\" to=\"/userProfile\">\r\n                  {currentUser.username} User Stories\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/\" onClick={logout}>\r\n                  Log out {currentUser.username}\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item mr-4\">\r\n                <NavLink className=\"nav-link\" to=\"/userDataForm\">\r\n                  Change User Data\r\n                </NavLink>\r\n              </li>\r\n\r\n\r\n            </ul>\r\n        );\r\n      }\r\n    \r\n      function loggedOutNav() {\r\n        return (\r\n            <ul className=\"navbar-nav ml-auto\">\r\n              <li className=\"nav-item mr-4\">\r\n                <NavLink className=\"nav-link\" to=\"/login\">\r\n                  Login\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item mr-4\">\r\n                <NavLink className=\"nav-link\" to=\"/register\">\r\n                  Register\r\n                </NavLink>\r\n              </li>\r\n            </ul>\r\n        );\r\n      }\r\n    \r\n      return (\r\n          <nav className=\"Navigation navbar navbar-expand-md\">\r\n            <Link className=\"navbar-brand\" to=\"/\">\r\n              Top News America\r\n            </Link>\r\n            {currentUser ? loggedInNav() : loggedOutNav()}\r\n          </nav>\r\n      );\r\n}\r\n\r\nexport default Navigation;","import React, {useContext, useState} from \"react\";\r\nimport {Card, Button} from \"antd\";\r\nimport \"./StoryCard.css\";\r\nimport UserContext from \"../auth/UserContext\";\r\n\r\nconst {Meta} = Card;\r\n\r\n//Shows information about a story\r\n\r\n\r\n\r\n\r\nfunction StoryCard({author, title, description, url,  urlToImage, publishedAt}) {\r\n    let story = {author, title, description, publishedAt, url, urlToImage};\r\n    const {saveStory} = useContext(UserContext);\r\n    const [saved, setSaved] = useState();\r\n\r\n\r\n    //Saves Story for User\r\n    async function handleSave(evt){\r\n        saveStory(story);\r\n        setSaved(true);\r\n    }\r\n\r\n    return (\r\n      <div className=\"Story\">\r\n       \r\n      <Card\r\n      key={url}\r\n      hoverable\r\n      style={{ width: \"50%\" }}\r\n      cover={<img alt=\"image\" src={urlToImage} className=\"img\" />}\r\n    >\r\n      <Meta title={title} description={description} publishedAt={publishedAt} author={author} />\r\n      <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n        <Button type=\"primary\" style={{ marginTop: \"10px\" }} onClick={handleSave} disabled={saved}>\r\n        {saved ? \"Saved!\" : \"View & Save\"}\r\n        </Button>\r\n      </a>\r\n    </Card>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default StoryCard;\r\n\r\n//{urlToImage && <img src={urlToImage} className=\"float-right ml-5\"  className=\"card-img-top\"/>}\r\n\r\n\r\n\r\n\r\n/*\r\n<div className=\"card w-50\" > {saved}\r\n\r\n\r\n{urlToImage && <img src={urlToImage} className=\"float-right ml-5\"  className=\"card-img-top\"/>}\r\n<div class=\"card-header\">{title}</div>\r\n <div className=\"card-body\">\r\n\r\n   <h6 className=\"card-title\">{author}</h6>\r\n   \r\n   <p class=\"card-text\">{url}</p>\r\n   <p class=\"card-text\">{publishedAt}</p>\r\n    <p class=\"card-text\">{description}</p>\r\n    \r\n \r\n    <button\r\n       className=\"btn btn-danger font-weight-bold text-uppercase float-right\"\r\n     \r\n       onClick={handleSave}\r\n       disabled={saved}\r\n   >\r\n     {saved ? \"Saved!\" : \"Save\"}\r\n   </button>\r\n\r\n </div>\r\n\r\n</div>\r\n\r\n.card {\r\n  \r\n  max-height: 250px;\r\n  margin-bottom: 1rem;\r\n  color: inherit;\r\n  border-radius: 0;\r\n  border: none;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n\r\n}\r\n\r\n  .card-img-top {\r\n    width: 50px;\r\n    height: 50px;\r\n    object-fit: cover;\r\n}\r\n\r\n\r\n*/","import React from \"react\";\r\nimport StoryCard from \"./StoryCard\";\r\n\r\n//Renders list of story card\r\n\r\n\r\nfunction StoryCardList({stories}) {\r\n\r\n    \r\n    return (\r\n        <div class=\"col d-flex justify-content-center\">\r\n\r\n<div className=\"StoryCardList\">\r\n             <h1 className=\"font-weight-bold\">Top News America</h1>\r\n            <p className=\"lead\">All of America's top stories!</p>\r\n\r\n            {stories.map(story => (\r\n                <StoryCard\r\n                key={story.url}\r\n                author={story.author}\r\n                title={story.title}\r\n                description={story.description}\r\n                url={story.url}\r\n                publishedAt={story.publishedAt}\r\n                urlToImage={story.urlToImage}\r\n\r\n                />\r\n            ))}\r\n\r\n        </div>\r\n        </div>\r\n       \r\n    )\r\n\r\n}\r\n\r\nexport default StoryCardList;","//import axios from \"axios\";\r\nconst axios = require(\"axios\");\r\n\r\nconst URL = process.env.REACT_APP_BASE_URL || \"http://localhost:3001\";\r\nconst API_KEY = `923cdfb34c684486ae9912d7ada90b4b`\r\n\r\n\r\n\r\n\r\n\r\n\r\n//API Class\r\n\r\n\r\nclass TopNewsApi {\r\n    static token;\r\n\r\n    static async request(endpoint, data = {}, method = \"get\") {\r\n        console.debug(\"API Call:\", endpoint, data, method);\r\n\r\n\r\n        const url = `${URL}/${endpoint}`;\r\n        const headers = {Authorization: `${TopNewsApi.token}`};\r\n        const params = (method === \"get\") ? data : {};\r\n\r\n\r\n        try {\r\n            return (await axios({url, method, data, params, headers})).data;\r\n        } catch(err) {\r\n            console.error(\"API Error:\", err.response);\r\n            let message = err.response.data.error.message;\r\n            throw Array.isArray(message) ? message : [message];\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    //Get current user\r\n\r\n    static async getCurrentUser(username) {\r\n        let res = await this.request(`${username}`);\r\n\r\n        return res.user;\r\n    }\r\n\r\n    //Update User Data\r\n\r\n    static async updateProfile(username, data) {\r\n        let res = await this.request(`${username}`, data, \"patch\");\r\n\r\n        return res.user;\r\n    }\r\n\r\n    //Get current stories\r\n\r\n\r\n   \r\n  \r\n     static async  getStories() {\r\n            let result = await axios.get(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${API_KEY}`)\r\n        \r\n            let stories = result.data.articles;\r\n            let newStories = stories.map((story) => {delete story.source && delete story.content; return story})\r\n            console.log(newStories)\r\n            return newStories\r\n        }\r\n        \r\n        \r\n\r\n        \r\n\r\n\r\n    //Login user and get token\r\n\r\n    static async login(data) {\r\n        let res = await this.request(`login`, data, \"post\");\r\n\r\n        return res.token;\r\n    }\r\n\r\n\r\n    //Register User\r\n    static async register(data) {\r\n        let res = await this.request(`register`, data, \"post\");\r\n\r\n        return res.token;\r\n    }\r\n\r\n\r\n    //Save Story\r\n    static async saveStory(data, username) {\r\n        let res = await this.request(`${username}/saveStory`, data, \"post\");\r\n\r\n        return res.savedStory;\r\n    }\r\n\r\n\r\n    //Get Stories\r\n\r\n    static async getUserStories(username) {\r\n        let res = await this.request(`${username}/userstories`);\r\n\r\n        return res.stories;\r\n    }\r\n\r\n\r\n\r\n\r\n    //Delete Story\r\n    static async deleteStory(data, username) {\r\n        let res = await this.request(`${username}/deleteStory`, data, \"delete\");\r\n\r\n        return res.deleted;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  TopNewsApi.getStories();\r\n\r\n\r\n\r\n\r\nexport default  TopNewsApi;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Homepage.css\";\r\nimport StoryCardList from \"../storys/StoryCardList\";\r\nimport TopNewsApi from \"../api/Newsapi\";\r\nimport UserContext from \"../auth/UserContext\";\r\n\r\n\r\n//Renders homepage\r\n\r\n\r\nfunction Homepage() {\r\n    const { currentUser } = useContext(UserContext);\r\n    const [stories, setStories] = useState([]);\r\n\r\n    useEffect(() => {\r\n    async function getStories() {\r\n        let stories = await TopNewsApi.getStories();\r\n        setStories(stories);\r\n\r\n    }\r\n    getStories();}, []);\r\n   \r\n    return (\r\n        <div className=\"Homepage\">\r\n          <div className=\"container\">\r\n            \r\n           \r\n           \r\n           <div>\r\n\r\n           { currentUser && stories.length > 0 ? (\r\n         <div className=\"StoryList col-md-8 offset-md-2\">\r\n        <StoryCardList stories={stories} />\r\n        </div>\r\n        \r\n        ) : currentUser && stories.length === 0 ? (<p className=\"lead\">Sorry, no results were found!</p>) : \r\n        \r\n        <div>\r\n\r\n            <h1 className=\"font-weight-bold\">Top News America</h1>\r\n            <p className=\"lead\">All of America's top stories!</p>\r\n            <p>You need to login or register to see today's top s</p>\r\n      \r\n      </div>\r\n  \r\n\r\n        }\r\n           </div>\r\n        \r\n      \r\n     \r\n           \r\n            \r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n  \r\n  export default Homepage;","import React from \"react\";\r\n\r\n//Renders alert component\r\n\r\nfunction Alert({ type = \"danger\", messages = [] }) {\r\n    console.debug(\"Alert\", \"type=\", type, \"messages=\", messages);\r\n  \r\n    return (\r\n        <div className={`alert alert-${type}`} role=\"alert\">\r\n          {messages.map(error => (\r\n              <p className=\"mb-0 small\" key={error}>\r\n                {error}\r\n              </p>\r\n          ))}\r\n        </div>\r\n    );\r\n  }\r\n  \r\n  export default Alert;","import React, {useState} from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport Alert from \"../common/Alert\";\r\n\r\n//Renders Login Form\r\n\r\n\r\nfunction LoginForm({login}) {\r\n    const history = useHistory();\r\n    const [formData, setFormData] = useState({username: \"\", password: \"\"});\r\n    const [formErrors, setFormErrors] = useState([]);\r\n\r\n\r\n    //Handle form submission\r\n\r\n    async function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        let result = await login(formData);\r\n        if(result.success) {\r\n            history.push(\"/stories\");\r\n        } else {\r\n            setFormErrors(result.errors)\r\n        }\r\n    }\r\n\r\n    //Updates login form\r\n    function handleChange(evt) {\r\n        const {name, value} = evt.target;\r\n        setFormData(data => ({...data, [name]: value}))\r\n    }\r\n\r\n    return ( <div className=\"LoginForm\">\r\n    <div className=\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\r\n      <h3 className=\"mb-3\">Log In</h3>\r\n\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n              <label>Username</label>\r\n              <input\r\n                  name=\"username\"\r\n                  className=\"form-control\"\r\n                  value={formData.username}\r\n                  onChange={handleChange}\r\n                  autoComplete=\"username\"\r\n                  required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>Password</label>\r\n              <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  className=\"form-control\"\r\n                  value={formData.password}\r\n                  onChange={handleChange}\r\n                  autoComplete=\"current-password\"\r\n                  required\r\n              />\r\n            </div>\r\n\r\n            {formErrors.length\r\n                ? <Alert type=\"danger\" messages={formErrors} />\r\n                : null}\r\n\r\n            <button\r\n                className=\"btn btn-primary float-right\"\r\n                onSubmit={handleSubmit}\r\n            >\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default LoginForm;","import React, {useState} from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport Alert from \"../common/Alert\";\r\n\r\n//Render signup form\r\n\r\nfunction RegisterForm({register}) {\r\n    const history = useHistory();\r\n    const [formData, setFormData] = useState({ username: \"\", password: \"\"});\r\n    const [formErrors, setFormErrors] = useState([]);\r\n\r\n\r\n    //Handle form Submission\r\n\r\n    async function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        let result = await register(formData);\r\n        if(result.success) {\r\n          history.push(\"/stories\");\r\n        } else {\r\n            setFormErrors(result.errors);\r\n        }\r\n    }\r\n\r\n    //Update form on change\r\n\r\n    function handleChange(evt) {\r\n        const {name, value} = evt.target;\r\n        setFormData(data => ({...data, [name]: value}));\r\n    }\r\n\r\n    return (\r\n<div className=\"SignupForm\">\r\n          <div className=\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\r\n            <h2 className=\"mb-3\">Register For TopNewsAmerica</h2>\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <form onSubmit={handleSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <label>Username</label>\r\n                    <input\r\n                        name=\"username\"\r\n                        className=\"form-control\"\r\n                        value={formData.username}\r\n                        onChange={handleChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        className=\"form-control\"\r\n                        value={formData.password}\r\n                        onChange={handleChange}\r\n                    />\r\n                  </div>\r\n  \r\n              \r\n                  {formErrors.length\r\n                      ? <Alert type=\"danger\" messages={formErrors} />\r\n                      : null\r\n                  }\r\n  \r\n                  <button\r\n                      type=\"submit\"\r\n                      className=\"btn btn-primary float-right\"\r\n                      onSubmit={handleSubmit}\r\n                  >\r\n                    Submit\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default RegisterForm;","import React, {useContext} from \"react\";\r\nimport UserContext from \"../auth/UserContext\";\r\nimport \"./StoryCard.css\";\r\n\r\n\r\n\r\n//Shows information about a story\r\n\r\n\r\nfunction UserStoryCard({id, savedBy, author, title, description, publishedAt, url, urlToImage, stories, setStories }) {\r\n    const {removeStory} = useContext(UserContext)\r\n    const objId = {id}\r\n    \r\n\r\n\r\n\r\n    //Removes story for user\r\n\r\n    \r\n    async function handleRemove(){\r\n      removeStory(objId);\r\n      setStories(stories.filter(story => story.id !== id))\r\n\r\n     \r\n }\r\n\r\n\r\n    return (\r\n        <div className=\"StoryCard\"> \r\n        <div className=\"card-body\">\r\n\r\n          <h6 className=\"card-title\">{title}\r\n          {urlToImage && <img src={urlToImage} className=\"float-right ml-5\" />}  </h6>\r\n          <p>{author}</p>\r\n          <div><small>{url}</small></div>\r\n          <div><small>{publishedAt}</small></div>\r\n           <div><p>{description}</p></div>\r\n          \r\n          <button\r\n              className=\"btn btn-danger font-weight-bold text-uppercase float-right\"\r\n              onClick={handleRemove}\r\n              \r\n          >\r\n            { \"Remove Story\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n    )\r\n}\r\n\r\nexport default UserStoryCard;","import React from \"react\";\r\nimport UserStoryCard from \"./UserStoryCard\"\r\n\r\n//Renders list of story card\r\n\r\n\r\nfunction UserStoryCardList({stories, setStories}) {\r\n\r\n    return (\r\n        <div className=\"userStoryCardList\">\r\n            {stories.map(story => (\r\n                <UserStoryCard\r\n                key={story.id}\r\n                id={story.id}\r\n                savedBy={story.savedBy}\r\n                author={story.author}\r\n                title={story.title}\r\n                description={story.description}\r\n                publishedAt={story.publishedAt}\r\n                urlToImage={story.urlToImage}\r\n                stories={stories}\r\n                setStories={setStories}\r\n\r\n                />\r\n            ))}\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default UserStoryCardList;","import React, { useState, useContext, useEffect } from \"react\";\r\nimport UserContext from \"../auth/UserContext\";\r\nimport TopNewsApi from \"../api/Newsapi\";\r\nimport UserStoryCardList from \"./UserStoryCardList\";\r\n\r\n//Render Profile Page with list of User stories\r\n\r\nfunction UserProfile() {\r\n    const {currentUser} = useContext(UserContext);\r\n    const [stories, setStories] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        async function getUserStories() {\r\n          let stories = await TopNewsApi.getUserStories(currentUser.username);\r\n          setStories(stories);\r\n          \r\n        }\r\n        getUserStories();\r\n      }, []);\r\n\r\n  \r\n      \r\n\r\n\r\n      return (\r\n        <div className=\"userStoryList col-md-8 offset-md-2\">\r\n        \r\n        \r\n\r\n        {stories && stories.length > 0 ? (<UserStoryCardList stories={stories} setStories={setStories} />) : (<p className=\"lead\">Sorry, no results were found!</p>)}\r\n      </div>\r\n\r\n      )\r\n}\r\n\r\nexport default UserProfile; ","import React, { useState, useContext } from \"react\";\r\nimport Alert from \"../common/Alert\";\r\nimport TopNewsApi from \"../api/Newsapi\";\r\nimport UserContext from \"../auth/UserContext\";\r\n\r\nfunction UserDataForm() {\r\n    const {currentUser, setCurrentUser} = useContext(UserContext)\r\n    const [formData, setFormData] = useState({username: currentUser.username, password:\"\" });\r\n    const [formErrors, setFormErrors] = useState([]);\r\n    const [saveConfirmed, setSaveConfirmed] = useState(false);\r\n\r\n\r\n\r\n    //Handle Form Submission\r\n\r\n\r\n    async function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n\r\n        let userFormData = formData;\r\n        let updatedUser;\r\n\r\n        try {\r\n            updatedUser = await TopNewsApi.updateProfile(currentUser.username, userFormData)\r\n        } catch (err) {\r\n            setFormErrors(err);\r\n            return;\r\n        }\r\n\r\n        setFormData(f => ({...f, password:\"\"}));\r\n        setFormErrors([]);\r\n        setSaveConfirmed(true);\r\n        setCurrentUser(updatedUser);\r\n\r\n        \r\n    }\r\n\r\n\r\n    //Handle changes\r\n\r\n    function handleChange(evt) {\r\n        const {name, value} = evt.target;\r\n        setFormData(f => ({...f, [name]: value})); \r\n        setFormErrors([]);\r\n    }\r\n\r\n\r\nreturn (\r\n    <div className=\"col-md-6 col-lg-4 offset-md-3 offset-lg-4\">\r\n    <h3>Profile</h3>\r\n    <div className=\"card\">\r\n      <div className=\"card-body\">\r\n        <form>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Username</label>\r\n            <input\r\n                name=\"username\"\r\n                className=\"form-control\"\r\n                value={formData.username}\r\n                onChange={handleChange}\r\n            />\r\n          </div>\r\n         \r\n        \r\n          <div className=\"form-group\">\r\n            <label>Confirm password to make changes:</label>\r\n            <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                className=\"form-control\"\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n            />\r\n          </div>\r\n\r\n          {formErrors.length\r\n              ? <Alert type=\"danger\" messages={formErrors} />\r\n              : null}\r\n\r\n          {saveConfirmed\r\n              ?\r\n              <Alert type=\"success\" messages={[\"Updated successfully.\"]} />\r\n              : null}\r\n\r\n          <button\r\n              className=\"btn btn-primary btn-block mt-4\"\r\n              onClick={handleSubmit}\r\n          >\r\n            Save Changes\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default UserDataForm;","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../auth/UserContext\";\r\n\r\n//Checks if user is logged in, if not redirects\r\n\r\n\r\nfunction PrivateRoute({ exact, path, children }) {\r\n    const { currentUser } = useContext(UserContext);\r\n  \r\n  \r\n  \r\n    if (!currentUser) {\r\n      return <Redirect to=\"/login\" />;\r\n    }\r\n  \r\n    return (\r\n        <Route exact={exact} path={path}>\r\n          {children}\r\n        </Route>\r\n    );\r\n  }\r\n  \r\n  export default PrivateRoute;","import React from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport Homepage from \"../homepage/Homepage\";\r\nimport LoginForm from \"../auth/LoginForm\";\r\nimport RegisterForm from \"../auth/SignupForm\";\r\nimport UserProfile from \"../profile/UserProfile\";\r\nimport UserDataForm from \"../profile/UserDataForm\";\r\nimport PrivateRoute from \"./PrivateRoute\";\r\n\r\n\r\n//Routes for the site;  Privite Routes is an authorization component wrapped around routes that require login.\r\n//Going to a route that doesn't exist will redirect to homepage\r\n\r\nfunction SiteRoutes({login, register}) {\r\n\r\n\r\n    return (\r\n        <div className=\"pt-5\">\r\n        <Switch>\r\n\r\n\r\n        <Route exact path=\"/\">\r\n          <Homepage />\r\n        </Route>\r\n\r\n        <Route exact path=\"/login\">\r\n          <LoginForm login={login} />\r\n        </Route>\r\n\r\n          <Route exact path=\"/register\">\r\n            <RegisterForm register={register} />\r\n          </Route>\r\n         \r\n\r\n         <PrivateRoute path=\"/userDataForm\">\r\n           <UserDataForm />\r\n         </PrivateRoute>\r\n\r\n\r\n\r\n          <PrivateRoute path=\"/userProfile\">\r\n            <UserProfile />\r\n          </PrivateRoute>\r\n\r\n          <Redirect to=\"/\" />\r\n      \r\n          \r\n        </Switch>\r\n      </div>\r\n\r\n    );\r\n}\r\n\r\nexport default SiteRoutes;","import React, {useState, useEffect} from \"react\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport useLocalStorage from \"./hooks/useLocalStorage.js\"\nimport Navigation from \"./routes-nav/Navigation\";\nimport SiteRoutes from \"./routes-nav/Routes\";\nimport TopNewsApi from \"./api/Newsapi\";\nimport jwt from \"jsonwebtoken\";\nimport UserContext from \"./auth/UserContext\";\n\nexport const Token_ID = \"News-Token\";\n\nfunction App() {\n  const [infoLoaded, setInfoLoaded] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [token, setToken] = useLocalStorage(Token_ID);\n\n//Loads User Info from API, function is dependent on value of Token\n  useEffect(function loadUserInfo() {\n    async function getCurrentUser() {\n      if(token) {\n       try  {\n        let {username} = jwt.decode(token);\n\n        TopNewsApi.token = token;\n        let currentUser = await TopNewsApi.getCurrentUser(username);\n        setCurrentUser(currentUser);}\n\n        catch (err) {\n          console.error(\"App loadUserInfo: problem loading info\", err);\n          setCurrentUser(null)\n        }\n\n      }\n      setInfoLoaded(true);\n    }\n\n    setInfoLoaded(false);\n    getCurrentUser();\n  }, [token]);\n\n\n  //Register\n  async function register(registerData) {\n    try {\n      let token = await TopNewsApi.register(registerData);\n      setToken(token);\n      return {success: true};\n    } catch (err) {\n      console.error(\"Registration Failed\", err);\n      return {success: false, err};\n    }\n  }\n\n\n  //Login\n  async function login(loginData) {\n    try{\n      let token = await TopNewsApi.login(loginData);\n      setToken(token);\n      return {success: true};\n\n    } \n    catch(err) {\n      console.error(\"login failed\", err);\n      return {success: false, err};\n    }\n  }\n\n  //Logout\n  function logout(){\n    setCurrentUser(null);\n    setToken(null);\n  }\n\n  //Save Story\n  async function saveStory(story) {\n    try{let res = await TopNewsApi.saveStory(story, currentUser.username);\n\n    return {success: true}}\n    catch(err) {\n      console.error(\"Could not save story\", err);\n      return {success: false, err}\n    }\n  }\n\n  //Remove Story\n  async function removeStory(id) {\n    try {\n      let res = await TopNewsApi.deleteStory(id, currentUser.username);\n      return {success: true}\n    } catch(err) {\n      console.error(\"Could not remove story\", err);\n      return {success: false, err}\n    }\n  }\n\n  return (\n    <BrowserRouter>\n    <UserContext.Provider\n    value={{currentUser, setCurrentUser, saveStory, removeStory}}>\n      <div className=\"App\">\n        <Navigation logout={logout} />\n        <SiteRoutes login={login} register={register} />\n      </div>\n\n    </UserContext.Provider>\n    </BrowserRouter>\n    \n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}